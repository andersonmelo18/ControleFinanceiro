<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Cart√µes ‚Äî Controle Financeiro</title>
  <link rel="stylesheet" href="style.css">
  
  <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
      import { getFirestore } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
      
      const FALLBACK_CONFIG = {
          apiKey: "AIzaSyBXCMMXEM-e_BNftJNcm6XeEGZ7KYPUiAY",
          authDomain: "controle-financeiro-b7880.firebaseapp.com",
          databaseURL: "https://controle-financeiro-b7880-default-rtdb.firebaseio.com",
          projectId: "controle-financeiro-b7880",
          storageBucket: "controle-financeiro-b7880.firebasestorage.app",
          messagingSenderId: "149823899793",
          appId: "1:149823899793:web:0fcdcd8ece6748697e9730"
      };

      let finalConfig = FALLBACK_CONFIG;
      if (typeof __firebase_config !== 'undefined' && __firebase_config) {
          try {
              const envConfig = JSON.parse(__firebase_config);
              finalConfig = { ...FALLBACK_CONFIG, ...envConfig };
          } catch (e) {
              console.warn("Erro ao parsear __firebase_config. Usando FALLBACK_CONFIG.");
          }
      }

      try {
          const app = initializeApp(finalConfig);
          window.db = getFirestore(app);
          window.__app_id = finalConfig.appId;
          window.currentUserId = 'demo-user-123'; 
      } catch (error) {
          console.error("Erro ao inicializar o Firebase.", error);
      }
  </script>
</head>
<body>
  <div class="container">
    <div class="nav-tabs">
      <a href="index.html"><button class="tab-button">üè† Painel</button></a>
      <a href="entradas.html"><button class="tab-button">‚û°Ô∏è Entradas</button></a>
      <a href="despesas.html"><button class="tab-button">‚¨ÖÔ∏è Despesas</button></a>
      <a href="fixos.html"><button class="tab-button">üìå Fixos/D√≠vidas</button></a>
      <a href="cartoes.html"><button class="tab-button active">üí≥ Cart√µes</button></a>
    </div>

    <div id="cards-tab" class="tab-content" style="display:block; margin-top:12px;">
      <div class="card-control-section">
        <h3>üí≥ Controle de Cart√µes (Fatura M√™s)</h3>
        <p style="font-size:12px; color:var(--cor-destaque);">* O Saldo Inicial √© o valor da fatura do m√™s anterior. √â autom√°tico, mas voc√™ pode editar se necess√°rio.</p>

        <div id="card-list"></div>

        <button class="submit-btn" onclick="saveCardInitialBalances()">Salvar Saldo Inicial</button>
      </div>

      <div class="card-control-section" style="margin-top:30px;">
        <h3>üí∞ Total Faturas no M√™s</h3>
        <div class="card-item"><span>Total a Pagar (Cart√µes)</span><span id="total-faturas-display" class="card-fatura-total">R$ 0,00</span></div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>